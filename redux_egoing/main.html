<!DOCTYPE html>
<html>
    <head>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.0.1/redux.js"></script>
    </head>    

    <body>
        <div id="subject"></div>
        <div id="toc"></div>
        <div id="control"></div>
        <div id="content"></div>

        <script>
            //부품화
            function subject(){
                document.querySelector('#subject').innerHTML = `
                     <header>
                        <h1>WEB</h1>
                        Hello, WEB!
                    </header>
                `
            }
            

            function toc(){
                var state = store.getState();
                console.log(state);
                var i = 0;
                var liTags ='';

                while(i <state.contents.length ){
                    
                    liTags = liTags + `
                    <li>
                        <a href="${state.contents[i].id}">${state.contents[i].title}</a>
                    </li>`;

                    i = i+1;
                }

                document.querySelector('#toc').innerHTML = `
                     <nav>
                        <ol>
                            ${liTags}
                        </ol>
                    </nav>
                `
            }
          

            function control(){
                document.querySelector('#control').innerHTML = `
                <ul>
                    <li><a href="/create">create</a></li>
                    <li><input type="button" value="delete"></li>
                </ul>
                ` 
            }

            function content(){
                document.querySelector('#content').innerHTML = `
                <article>
                    <h2>HTML</h2>
                    HTML is ...
                </article>
                ` 
            }

            function reducer(state, action){
                
                if(state == undefined) {
                    return {
                        contents : [
                            {id:1, title:'HTML', desc:'HTML2 is...'},
                            {id:2, title:'CSS2', desc:'CSS2 is...'}
                        ]
                    }
                }
            }

            var store = Redux.createStore(reducer,window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());
            subject();
            toc();
            control();
            content();


        </script>

    </body>
</html>